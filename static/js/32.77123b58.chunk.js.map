{"version":3,"file":"static/js/32.77123b58.chunk.js","mappings":"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","sources":["../node_modules/vidstack/dist/prod/providers/hls/hls.js","../node_modules/vidstack/dist/prod/providers/html/html–media-events.js","../node_modules/vidstack/dist/prod/providers/html/native-audio-tracks.js","../node_modules/vidstack/dist/prod/providers/html/provider.js"],"sourcesContent":["import { peek, effect } from 'maverick.js';\nimport { isUndefined, isNumber, DOMEvent, listenEvent, camelToKebabCase } from 'maverick.js/std';\nimport { F as ENABLE_AUTO_QUALITY, G as TextTrack, H as TEXT_TRACK_READY_STATE, J as TEXT_TRACK_ON_MODE_CHANGE, L as LIST_SELECT, K as SET_AUTO_QUALITY, N as LIST_ADD, P as IS_CHROME } from '../../media-core.js';\n\nclass RAFLoop {\n  constructor(_callback) {\n    this._e = _callback;\n  }\n  Lh;\n  M() {\n    if (!isUndefined(this.Lh))\n      return;\n    this.Mh();\n  }\n  N() {\n    if (isNumber(this.Lh))\n      window.cancelAnimationFrame(this.Lh);\n    this.Lh = void 0;\n  }\n  Mh() {\n    this.Lh = window.requestAnimationFrame(() => {\n      if (isUndefined(this.Lh))\n        return;\n      this._e();\n      this.Mh();\n    });\n  }\n}\n\nconst toDOMEventType = (type) => camelToKebabCase(type);\nclass HLSController {\n  constructor(_video) {\n    this.ta = _video;\n  }\n  ph;\n  Ca = null;\n  uh = null;\n  nh = {};\n  oh = /* @__PURE__ */ new Set();\n  get instance() {\n    return this.Ca;\n  }\n  setup(ctor, context) {\n    this.ph = context;\n    const isLive = peek(context.$store.streamType).includes(\"live\"), isLiveLowLatency = peek(context.$store.streamType).includes(\"ll-\");\n    this.Ca = new ctor({\n      lowLatencyMode: isLiveLowLatency,\n      backBufferLength: isLiveLowLatency ? 4 : isLive ? 8 : void 0,\n      renderTextTracksNatively: false,\n      ...this.nh\n    });\n    const dispatcher = this.vh.bind(this);\n    for (const event of Object.values(ctor.Events))\n      this.Ca.on(event, dispatcher);\n    this.Ca.on(ctor.Events.ERROR, this.Zb.bind(this));\n    for (const callback of this.oh)\n      callback(this.Ca);\n    context.player.dispatchEvent(new DOMEvent(\"hls-instance\", { detail: this.Ca }));\n    this.Ca.attachMedia(this.ta);\n    this.Ca.on(ctor.Events.AUDIO_TRACK_SWITCHED, this.wh.bind(this));\n    this.Ca.on(ctor.Events.LEVEL_SWITCHED, this.xh.bind(this));\n    this.Ca.on(ctor.Events.LEVEL_LOADED, this.yh.bind(this));\n    this.Ca.on(ctor.Events.NON_NATIVE_TEXT_TRACKS_FOUND, this.zh.bind(this));\n    this.Ca.on(ctor.Events.CUES_PARSED, this.Ah.bind(this));\n    context.qualities[ENABLE_AUTO_QUALITY] = this.Bh.bind(this);\n    listenEvent(context.qualities, \"change\", this.Rf.bind(this));\n    listenEvent(context.audioTracks, \"change\", this.Ch.bind(this));\n    this.uh = effect(this.Dh.bind(this));\n  }\n  Dh() {\n    if (!this.ph.$store.live())\n      return;\n    const raf = new RAFLoop(this.Eh.bind(this));\n    raf.M();\n    return raf.N.bind(raf);\n  }\n  Eh() {\n    this.ph.$store.liveSyncPosition.set(this.Ca?.liveSyncPosition ?? Infinity);\n  }\n  vh(eventType, detail) {\n    this.ph.player.dispatchEvent(new DOMEvent(toDOMEventType(eventType), { detail }));\n  }\n  zh(eventType, data) {\n    const event = new DOMEvent(eventType, { detail: data });\n    let currentTrack = -1;\n    for (let i = 0; i < data.tracks.length; i++) {\n      const nonNativeTrack = data.tracks[i], init = nonNativeTrack.subtitleTrack ?? nonNativeTrack.closedCaptions, track = new TextTrack({\n        id: `hls-${nonNativeTrack.kind}${i}`,\n        src: init?.url,\n        label: nonNativeTrack.label,\n        language: init?.lang,\n        kind: nonNativeTrack.kind\n      });\n      track[TEXT_TRACK_READY_STATE] = 2;\n      track[TEXT_TRACK_ON_MODE_CHANGE] = () => {\n        if (track.mode === \"showing\") {\n          this.Ca.subtitleTrack = i;\n          currentTrack = i;\n        } else if (currentTrack === i) {\n          this.Ca.subtitleTrack = -1;\n          currentTrack = -1;\n        }\n      };\n      if (nonNativeTrack.default)\n        track.setMode(\"showing\", event);\n      this.ph.textTracks.add(track, event);\n    }\n  }\n  Ah(eventType, data) {\n    const track = this.ph.textTracks.getById(`hls-${data.track}`);\n    if (!track)\n      return;\n    const event = new DOMEvent(eventType, { detail: data });\n    for (const cue of data.cues) {\n      cue.positionAlign = \"auto\";\n      track.addCue(cue, event);\n    }\n  }\n  wh(eventType, data) {\n    const track = this.ph.audioTracks[data.id];\n    if (track) {\n      this.ph.audioTracks[LIST_SELECT](\n        track,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  xh(eventType, data) {\n    const quality = this.ph.qualities[data.level];\n    if (quality) {\n      this.ph.qualities[LIST_SELECT](\n        quality,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  yh(eventType, data) {\n    if (this.ph.$store.canPlay())\n      return;\n    const { type, live, totalduration: duration } = data.details;\n    const event = new DOMEvent(eventType, { detail: data });\n    this.ph.delegate.U(\"stream-type-change\", {\n      detail: live ? type === \"EVENT\" && Number.isFinite(duration) ? \"live:dvr\" : \"live\" : \"on-demand\",\n      trigger: event\n    });\n    this.ph.delegate.U(\"duration-change\", { detail: duration, trigger: event });\n    const media = this.Ca.media;\n    if (this.Ca.currentLevel === -1) {\n      this.ph.qualities[SET_AUTO_QUALITY](true, event);\n    }\n    for (const track of this.Ca.audioTracks) {\n      this.ph.audioTracks[LIST_ADD](\n        {\n          id: track.id + \"\",\n          label: track.name,\n          language: track.lang || \"\",\n          kind: \"main\"\n        },\n        event\n      );\n    }\n    for (const level of this.Ca.levels) {\n      this.ph.qualities[LIST_ADD](\n        {\n          width: level.width,\n          height: level.height,\n          codec: level.codecSet,\n          bitrate: level.bitrate\n        },\n        event\n      );\n    }\n    media.dispatchEvent(new DOMEvent(\"canplay\", { trigger: event }));\n  }\n  Zb(eventType, data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case \"networkError\":\n          this.Ca?.startLoad();\n          break;\n        case \"mediaError\":\n          this.Ca?.recoverMediaError();\n          break;\n        default:\n          this.Ca?.destroy();\n          this.Ca = null;\n          break;\n      }\n    }\n  }\n  Bh() {\n    if (this.Ca)\n      this.Ca.currentLevel = -1;\n  }\n  Rf() {\n    const { qualities } = this.ph;\n    if (!this.Ca || qualities.auto)\n      return;\n    this.Ca[qualities.switch + \"Level\"] = qualities.selectedIndex;\n    if (IS_CHROME)\n      this.ta.currentTime = this.ta.currentTime;\n  }\n  Ch() {\n    const { audioTracks } = this.ph;\n    if (this.Ca && this.Ca.audioTrack !== audioTracks.selectedIndex) {\n      this.Ca.audioTrack = audioTracks.selectedIndex;\n    }\n  }\n  Jg() {\n    if (this.ph)\n      this.ph.qualities[ENABLE_AUTO_QUALITY] = void 0;\n    this.Ca?.destroy();\n    this.Ca = null;\n    this.uh?.();\n    this.uh = null;\n  }\n}\n\nexport { HLSController as H, RAFLoop as R };\n","import { effect, onDispose } from 'maverick.js';\nimport { useDisposalBin, listenEvent, DOMEvent, isNil } from 'maverick.js/std';\nimport { R as RAFLoop } from '../hls/hls.js';\nimport { i as isHLSSrc } from '../audio/loader.js';\nimport { y as getNumberOfDecimalPlaces } from '../../media-ui.js';\nimport { I as IS_SAFARI } from '../../media-core.js';\n\nclass HTMLMediaEvents {\n  constructor(_provider, _context) {\n    this.m = _provider;\n    this.ph = _context;\n    this.ai();\n    effect(this.bi.bind(this));\n    onDispose(this.qh.bind(this));\n  }\n  ih = useDisposalBin();\n  Vh = false;\n  Yh = false;\n  Zh = false;\n  Wh = new RAFLoop(this.ci.bind(this));\n  get n() {\n    return this.m.media;\n  }\n  get jg() {\n    return this.ph.delegate;\n  }\n  qh() {\n    this.Wh.N();\n    this.ih.empty();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  ci() {\n    const newTime = this.m.currentTime;\n    if (this.ph.$store.currentTime() !== newTime)\n      this.Uh(newTime);\n  }\n  ai() {\n    this.Th(\"loadstart\", this.je);\n    this.Th(\"abort\", this._h);\n    this.Th(\"emptied\", this.di);\n    this.Th(\"error\", this.Zb);\n  }\n  ei() {\n    if (this.Yh)\n      return;\n    this.ih.add(\n      this.Th(\"loadeddata\", this.fi),\n      this.Th(\"loadedmetadata\", this.gi),\n      this.Th(\"canplay\", this.Ub),\n      this.Th(\"canplaythrough\", this.hi),\n      this.Th(\"durationchange\", this.ii),\n      this.Th(\"play\", this.ji),\n      this.Th(\"progress\", this.ki),\n      this.Th(\"stalled\", this.li),\n      this.Th(\"suspend\", this.mi)\n    );\n    this.Yh = true;\n  }\n  ni() {\n    if (this.Zh)\n      return;\n    this.ih.add(\n      this.Th(\"pause\", this.oi),\n      this.Th(\"playing\", this.pi),\n      this.Th(\"ratechange\", this.qi),\n      this.Th(\"seeked\", this.ri),\n      this.Th(\"seeking\", this.si),\n      this.Th(\"ended\", this.ti),\n      this.Th(\"volumechange\", this.dc),\n      this.Th(\"waiting\", this.ui)\n    );\n    this.Zh = true;\n  }\n  vi = void 0;\n  xi = void 0;\n  Th(eventType, handler) {\n    return listenEvent(\n      this.n,\n      eventType,\n      handler.bind(this)\n    );\n  }\n  yi(event2) {\n    return;\n  }\n  Uh(time, trigger) {\n    this.jg.U(\"time-update\", {\n      // Avoid errors where `currentTime` can have higher precision.\n      detail: {\n        currentTime: Math.min(time, this.ph.$store.seekableEnd()),\n        played: this.n.played\n      },\n      trigger\n    });\n  }\n  je(event2) {\n    if (this.n.networkState === 3) {\n      this._h(event2);\n      return;\n    }\n    this.ei();\n    this.jg.U(\"load-start\", { trigger: event2 });\n  }\n  _h(event2) {\n    this.jg.U(\"abort\", { trigger: event2 });\n  }\n  di() {\n    this.jg.U(\"emptied\", { trigger: event });\n  }\n  fi(event2) {\n    this.jg.U(\"loaded-data\", { trigger: event2 });\n  }\n  gi(event2) {\n    this.$h();\n    this.ni();\n    this.jg.U(\"volume-change\", {\n      detail: {\n        volume: this.n.volume,\n        muted: this.n.muted\n      }\n    });\n    this.jg.U(\"loaded-metadata\", { trigger: event2 });\n    if (IS_SAFARI && isHLSSrc(this.ph.$store.source())) {\n      this.jg.af(this.Xh(), event2);\n    }\n  }\n  Xh() {\n    return {\n      duration: this.n.duration,\n      buffered: this.n.buffered,\n      seekable: this.n.seekable\n    };\n  }\n  $h() {\n    const isLive = !Number.isFinite(this.n.duration);\n    this.jg.U(\"stream-type-change\", {\n      detail: isLive ? \"live\" : \"on-demand\"\n    });\n  }\n  ji(event2) {\n    if (!this.ph.$store.canPlay)\n      return;\n    this.jg.U(\"play\", { trigger: event2 });\n  }\n  oi(event2) {\n    if (this.n.readyState === 1 && !this.Vh)\n      return;\n    this.Vh = false;\n    this.Wh.N();\n    this.jg.U(\"pause\", { trigger: event2 });\n  }\n  Ub(event2) {\n    this.jg.af(this.Xh(), event2);\n  }\n  hi(event2) {\n    if (this.ph.$store.started())\n      return;\n    this.jg.U(\"can-play-through\", {\n      trigger: event2,\n      detail: this.Xh()\n    });\n  }\n  pi(event2) {\n    this.Vh = false;\n    this.jg.U(\"playing\", { trigger: event2 });\n    this.Wh.M();\n  }\n  li(event2) {\n    this.jg.U(\"stalled\", { trigger: event2 });\n    if (this.n.readyState < 3) {\n      this.Vh = true;\n      this.jg.U(\"waiting\", { trigger: event2 });\n    }\n  }\n  ui(event2) {\n    if (this.n.readyState < 3) {\n      this.Vh = true;\n      this.jg.U(\"waiting\", { trigger: event2 });\n    }\n  }\n  ti(event2) {\n    this.Wh.N();\n    this.Uh(this.n.duration, event2);\n    this.jg.U(\"end\", { trigger: event2 });\n    if (this.ph.$store.loop()) {\n      this.wi();\n    } else {\n      this.jg.U(\"ended\", { trigger: event2 });\n    }\n  }\n  bi() {\n    if (this.ph.$store.paused()) {\n      listenEvent(this.n, \"timeupdate\", this.Yb.bind(this));\n    }\n  }\n  Yb(event2) {\n    this.Uh(this.n.currentTime, event2);\n  }\n  ii(event2) {\n    this.$h();\n    if (this.ph.$store.ended()) {\n      this.Uh(this.n.duration, event2);\n    }\n    this.jg.U(\"duration-change\", {\n      detail: this.n.duration,\n      trigger: event2\n    });\n  }\n  dc(event2) {\n    this.jg.U(\"volume-change\", {\n      detail: {\n        volume: this.n.volume,\n        muted: this.n.muted\n      },\n      trigger: event2\n    });\n  }\n  ri(event2) {\n    this.Uh(this.n.currentTime, event2);\n    this.jg.U(\"seeked\", {\n      detail: this.n.currentTime,\n      trigger: event2\n    });\n    if (Math.trunc(this.n.currentTime) === Math.trunc(this.n.duration) && getNumberOfDecimalPlaces(this.n.duration) > getNumberOfDecimalPlaces(this.n.currentTime)) {\n      this.Uh(this.n.duration, event2);\n      if (!this.n.ended) {\n        this.ph.player.dispatchEvent(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  si(event2) {\n    this.jg.U(\"seeking\", {\n      detail: this.n.currentTime,\n      trigger: event2\n    });\n  }\n  ki(event2) {\n    this.jg.U(\"progress\", {\n      detail: {\n        buffered: this.n.buffered,\n        seekable: this.n.seekable\n      },\n      trigger: event2\n    });\n  }\n  wi() {\n    const hasCustomControls = isNil(this.n.controls);\n    if (hasCustomControls)\n      this.n.controls = false;\n    this.ph.player.dispatchEvent(new DOMEvent(\"media-loop-request\"));\n  }\n  mi(event2) {\n    this.jg.U(\"suspend\", { trigger: event2 });\n  }\n  qi(event2) {\n    this.jg.U(\"rate-change\", {\n      detail: this.n.playbackRate,\n      trigger: event2\n    });\n  }\n  Zb(event2) {\n    const error = this.n.error;\n    if (!error)\n      return;\n    this.jg.U(\"error\", {\n      detail: {\n        message: error.message,\n        code: error.code,\n        mediaError: error\n      },\n      trigger: event2\n    });\n  }\n}\n\nexport { HTMLMediaEvents as H };\n","import { listenEvent } from 'maverick.js/std';\nimport { N as LIST_ADD, W as LIST_REMOVE, L as LIST_SELECT } from '../../media-core.js';\n\nclass NativeAudioTracks {\n  constructor(_provider, _context) {\n    this.m = _provider;\n    this.ph = _context;\n    this.Nh.onaddtrack = this.Ph.bind(this);\n    this.Nh.onremovetrack = this.Qh.bind(this);\n    this.Nh.onchange = this.Rh.bind(this);\n    listenEvent(this.ph.audioTracks, \"change\", this.Sh.bind(this));\n  }\n  get Nh() {\n    return this.m.media.audioTracks;\n  }\n  Ph(event) {\n    const _track = event.track;\n    if (_track.label === \"\")\n      return;\n    const audioTrack = {\n      id: _track.id + \"\",\n      label: _track.label,\n      language: _track.language,\n      kind: _track.kind,\n      selected: false\n    };\n    this.ph.audioTracks[LIST_ADD](audioTrack, event);\n    if (_track.enabled)\n      audioTrack.selected = true;\n  }\n  Qh(event) {\n    const track = this.ph.audioTracks.getById(event.track.id);\n    if (track)\n      this.ph.audioTracks[LIST_REMOVE](track, event);\n  }\n  Rh(event) {\n    let enabledTrack = this.Oh();\n    if (!enabledTrack)\n      return;\n    const track = this.ph.audioTracks.getById(enabledTrack.id);\n    if (track)\n      this.ph.audioTracks[LIST_SELECT](track, true, event);\n  }\n  Oh() {\n    return Array.from(this.Nh).find((track) => track.enabled);\n  }\n  Sh(event) {\n    const { current } = event.detail;\n    if (!current)\n      return;\n    const track = this.Nh.getTrackById(current.id);\n    if (track) {\n      const prev = this.Oh();\n      if (prev)\n        prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nexport { NativeAudioTracks as N };\n","import { setAttribute, isString } from 'maverick.js/std';\nimport { b as isMediaStream } from '../audio/loader.js';\nimport { H as HTMLMediaEvents } from './html–media-events.js';\nimport { N as NativeAudioTracks } from './native-audio-tracks.js';\n\nclass HTMLMediaProvider {\n  constructor(_media) {\n    this.n = _media;\n  }\n  setup(context) {\n    new HTMLMediaEvents(this, context);\n    if (\"audioTracks\" in this.media)\n      new NativeAudioTracks(this, context);\n  }\n  get type() {\n    return \"\";\n  }\n  get media() {\n    return this.n;\n  }\n  get paused() {\n    return this.n.paused;\n  }\n  get muted() {\n    return this.n.muted;\n  }\n  set muted(muted) {\n    this.n.muted = muted;\n  }\n  get volume() {\n    return this.n.volume;\n  }\n  set volume(volume) {\n    this.n.volume = volume;\n  }\n  get currentTime() {\n    return this.n.currentTime;\n  }\n  set currentTime(time) {\n    this.n.currentTime = time;\n  }\n  get playsinline() {\n    return this.n.hasAttribute(\"playsinline\");\n  }\n  set playsinline(playsinline) {\n    setAttribute(this.n, \"playsinline\", playsinline);\n  }\n  get playbackRate() {\n    return this.n.playbackRate;\n  }\n  set playbackRate(rate) {\n    this.n.playbackRate = rate;\n  }\n  async play() {\n    return this.n.play();\n  }\n  async pause() {\n    return this.n.pause();\n  }\n  async loadSource({ src }, preload) {\n    this.n.preload = preload;\n    if (isMediaStream(src)) {\n      this.n.srcObject = src;\n    } else {\n      this.n.srcObject = null;\n      this.n.src = isString(src) ? src : window.URL.createObjectURL(src);\n    }\n    this.n.load();\n  }\n}\n\nexport { HTMLMediaProvider as H };\n"],"names":["RAFLoop","_callback","_classCallCheck","_defineProperty","this","_e","_createClass","key","value","isUndefined","Lh","Mh","isNumber","window","cancelAnimationFrame","_this","requestAnimationFrame","HLSController","_video","Set","ta","get","Ca","ctor","context","ph","isLive","peek","$store","streamType","includes","isLiveLowLatency","_objectSpread","lowLatencyMode","backBufferLength","renderTextTracksNatively","nh","dispatcher","vh","bind","_i","_Object$values","Object","values","Events","length","event","on","ERROR","Zb","_step","_iterator","_createForOfIteratorHelper","oh","s","n","done","callback","err","e","f","player","dispatchEvent","DOMEvent","detail","attachMedia","AUDIO_TRACK_SWITCHED","wh","LEVEL_SWITCHED","xh","LEVEL_LOADED","yh","NON_NATIVE_TEXT_TRACKS_FOUND","zh","CUES_PARSED","Ah","qualities","ENABLE_AUTO_QUALITY","Bh","listenEvent","Rf","audioTracks","Ch","uh","effect","Dh","live","raf","Eh","M","N","_this$Ca$liveSyncPosi","_this$Ca","liveSyncPosition","set","Infinity","eventType","type","camelToKebabCase","data","_this2","currentTrack","_loop","i","_nonNativeTrack$subti","nonNativeTrack","tracks","init","subtitleTrack","closedCaptions","track","TextTrack","id","concat","kind","src","url","label","language","lang","TEXT_TRACK_READY_STATE","TEXT_TRACK_ON_MODE_CHANGE","mode","default","setMode","textTracks","add","getById","_step2","_iterator2","cues","cue","positionAlign","addCue","LIST_SELECT","quality","level","canPlay","_data$details","details","duration","totalduration","delegate","U","Number","isFinite","trigger","media","currentLevel","SET_AUTO_QUALITY","_step3","_iterator3","LIST_ADD","name","_step4","_iterator4","levels","width","height","codec","codecSet","bitrate","_this$Ca2","_this$Ca3","_this$Ca4","fatal","startLoad","recoverMediaError","destroy","auto","switch","selectedIndex","IS_CHROME","currentTime","audioTrack","_this$Ca5","_this$uh","call","HTMLMediaEvents","_provider","_context","useDisposalBin","ci","m","ai","bi","onDispose","qh","Wh","ih","empty","newTime","Uh","Th","je","_h","di","Yh","fi","gi","Ub","hi","ii","ji","ki","li","mi","Zh","oi","pi","qi","ri","si","ti","dc","ui","handler","event2","time","jg","Math","min","seekableEnd","played","networkState","ei","$h","ni","volume","muted","IS_SAFARI","isHLSSrc","source","af","Xh","buffered","seekable","readyState","Vh","started","loop","wi","paused","Yb","ended","trunc","getNumberOfDecimalPlaces","isNil","controls","playbackRate","error","message","code","mediaError","NativeAudioTracks","Nh","onaddtrack","Ph","onremovetrack","Qh","onchange","Rh","Sh","_track","selected","enabled","LIST_REMOVE","enabledTrack","Oh","Array","from","find","current","getTrackById","prev","HTMLMediaProvider","_media","hasAttribute","playsinline","setAttribute","rate","_play","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","next","abrupt","play","stop","apply","arguments","_pause","_callee2","_context2","pause","_loadSource","_callee3","_ref","preload","_context3","isMediaStream","srcObject","isString","URL","createObjectURL","load","_x","_x2"],"sourceRoot":""}