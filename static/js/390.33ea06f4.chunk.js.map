{"version":3,"file":"static/js/390.33ea06f4.chunk.js","mappings":"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","sources":["../node_modules/vidstack/dist/prod/providers/video/native-hls-text-tracks.js","../node_modules/vidstack/dist/prod/providers/video/picture-in-picture.js","../node_modules/vidstack/dist/prod/providers/video/presentation/video-presentation.js","../node_modules/vidstack/dist/prod/providers/video/provider.js"],"sourcesContent":["import { onDispose } from 'maverick.js';\nimport { G as TextTrack, Y as TEXT_TRACK_NATIVE, H as TEXT_TRACK_READY_STATE, Z as TEXT_TRACK_NATIVE_HLS } from '../../media-core.js';\n\nclass NativeHLSTextTracks {\n  constructor(_video, _context) {\n    this.ta = _video;\n    this.ph = _context;\n    _video.textTracks.onaddtrack = this.ya.bind(this);\n    onDispose(this.qh.bind(this));\n  }\n  ya(event) {\n    const nativeTrack = event.track;\n    if (!nativeTrack || findTextTrackElement(this.ta, nativeTrack))\n      return;\n    const track = new TextTrack({\n      id: nativeTrack.id,\n      kind: nativeTrack.kind,\n      label: nativeTrack.label,\n      language: nativeTrack.language,\n      type: \"vtt\"\n    });\n    track[TEXT_TRACK_NATIVE] = { track: nativeTrack };\n    track[TEXT_TRACK_READY_STATE] = 2;\n    track[TEXT_TRACK_NATIVE_HLS] = true;\n    let lastIndex = 0;\n    const onCueChange = (event2) => {\n      if (!nativeTrack.cues)\n        return;\n      for (let i = lastIndex; i < nativeTrack.cues.length; i++) {\n        track.addCue(nativeTrack.cues[i], event2);\n        lastIndex++;\n      }\n    };\n    onCueChange(event);\n    nativeTrack.oncuechange = onCueChange;\n    this.ph.textTracks.add(track, event);\n    track.setMode(nativeTrack.mode, event);\n  }\n  qh() {\n    this.ta.textTracks.onaddtrack = null;\n    for (const track of this.ph.textTracks) {\n      const nativeTrack = track[TEXT_TRACK_NATIVE]?.track;\n      if (nativeTrack?.oncuechange)\n        nativeTrack.oncuechange = null;\n    }\n  }\n}\nfunction findTextTrackElement(video, track) {\n  return Array.from(video.children).find((el) => el.track === track);\n}\n\nexport { NativeHLSTextTracks as N };\n","import { listenEvent } from 'maverick.js/std';\nimport { _ as canUsePictureInPicture } from '../../media-core.js';\n\nclass VideoPictureInPicture {\n  constructor(_video, _media) {\n    this.ta = _video;\n    this.n = _media;\n    listenEvent(this.ta, \"enterpictureinpicture\", this.Fh.bind(this));\n    listenEvent(this.ta, \"leavepictureinpicture\", this.Gh.bind(this));\n  }\n  get active() {\n    return document.pictureInPictureElement === this.ta;\n  }\n  get supported() {\n    return canUsePictureInPicture(this.ta);\n  }\n  async enter() {\n    return this.ta.requestPictureInPicture();\n  }\n  exit() {\n    return document.exitPictureInPicture();\n  }\n  Fh(event) {\n    this.Pc(true, event);\n  }\n  Gh(event) {\n    this.Pc(false, event);\n  }\n  Pc = (active, event) => {\n    this.n.delegate.U(\"picture-in-picture-change\", {\n      detail: active,\n      trigger: event\n    });\n  };\n}\n\nexport { VideoPictureInPicture as V };\n","import { listenEvent, DOMEvent } from 'maverick.js/std';\nimport { $ as canUseVideoPresentation } from '../../../media-core.js';\n\nclass VideoPresentation {\n  constructor(_video, _media) {\n    this.ta = _video;\n    this.n = _media;\n    listenEvent(this.ta, \"webkitpresentationmodechanged\", this.Kh.bind(this));\n  }\n  Oa = \"inline\";\n  get Jh() {\n    return canUseVideoPresentation(this.ta);\n  }\n  async Ih(mode) {\n    if (this.Oa === mode)\n      return;\n    this.ta.webkitSetPresentationMode(mode);\n  }\n  Kh() {\n    const prevMode = this.Oa;\n    this.Oa = this.ta.webkitPresentationMode;\n    this.n.player?.dispatchEvent(\n      new DOMEvent(\"video-presentation-change\", {\n        detail: this.Oa,\n        trigger: event\n      })\n    );\n    [\"fullscreen\", \"picture-in-picture\"].forEach((type) => {\n      if (this.Oa === type || prevMode === type) {\n        this.n.delegate.U(`${type}-change`, {\n          detail: this.Oa === type,\n          trigger: event\n        });\n      }\n    });\n  }\n}\nclass FullscreenPresentationAdapter {\n  constructor(_presentation) {\n    this.Hh = _presentation;\n  }\n  get active() {\n    return this.Hh.Oa === \"fullscreen\";\n  }\n  get supported() {\n    return this.Hh.Jh;\n  }\n  async enter() {\n    this.Hh.Ih(\"fullscreen\");\n  }\n  async exit() {\n    this.Hh.Ih(\"inline\");\n  }\n}\nclass PIPPresentationAdapter {\n  constructor(_presentation) {\n    this.Hh = _presentation;\n  }\n  get active() {\n    return this.Hh.Oa === \"picture-in-picture\";\n  }\n  get supported() {\n    return this.Hh.Jh;\n  }\n  async enter() {\n    this.Hh.Ih(\"picture-in-picture\");\n  }\n  async exit() {\n    this.Hh.Ih(\"inline\");\n  }\n}\n\nexport { FullscreenPresentationAdapter as F, PIPPresentationAdapter as P, VideoPresentation as V };\n","import { onDispose } from 'maverick.js';\nimport { $ as canUseVideoPresentation, _ as canUsePictureInPicture, X as canPlayHLSNatively, a0 as ATTACH_VIDEO } from '../../media-core.js';\nimport { H as HTMLMediaProvider } from '../html/provider.js';\nimport { N as NativeHLSTextTracks } from './native-hls-text-tracks.js';\nimport { V as VideoPictureInPicture } from './picture-in-picture.js';\nimport { V as VideoPresentation, F as FullscreenPresentationAdapter, P as PIPPresentationAdapter } from './presentation/video-presentation.js';\nimport 'maverick.js/element';\nimport 'maverick.js/std';\nimport '../type-check.js';\nimport '../audio/loader.js';\nimport 'maverick.js/dom';\nimport '../hls/loader.js';\nimport './loader.js';\nimport '../html/html–media-events.js';\nimport '../hls/hls.js';\nimport '../../media-ui.js';\nimport '../../icons/icon.js';\nimport 'media-captions';\nimport '../html/native-audio-tracks.js';\n\nclass VideoProvider extends HTMLMediaProvider {\n  $$PROVIDER_TYPE = \"VIDEO\";\n  get type() {\n    return \"video\";\n  }\n  fullscreen;\n  pictureInPicture;\n  constructor(video, context) {\n    super(video);\n    if (canUseVideoPresentation(video)) {\n      const presentation = new VideoPresentation(video, context);\n      this.fullscreen = new FullscreenPresentationAdapter(presentation);\n      this.pictureInPicture = new PIPPresentationAdapter(presentation);\n    } else if (canUsePictureInPicture(video)) {\n      this.pictureInPicture = new VideoPictureInPicture(video, context);\n    }\n  }\n  setup(context) {\n    super.setup(context);\n    if (canPlayHLSNatively(this.video)) {\n      new NativeHLSTextTracks(this.video, context);\n    }\n    context.textRenderers[ATTACH_VIDEO](this.video);\n    onDispose(() => {\n      context.textRenderers[ATTACH_VIDEO](null);\n    });\n    if (this.type === \"video\")\n      context.delegate.U(\"provider-setup\", { detail: this });\n  }\n  /**\n   * The native HTML `<video>` element.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement}\n   */\n  get video() {\n    return this.n;\n  }\n}\n\nexport { VideoProvider };\n"],"names":["NativeHLSTextTracks","_video","_context","_classCallCheck","this","ta","ph","textTracks","onaddtrack","ya","bind","onDispose","qh","_createClass","key","value","event","nativeTrack","track","video","Array","from","children","find","el","findTextTrackElement","TextTrack","id","kind","label","language","type","TEXT_TRACK_NATIVE","TEXT_TRACK_READY_STATE","TEXT_TRACK_NATIVE_HLS","lastIndex","onCueChange","event2","cues","i","length","addCue","oncuechange","add","setMode","mode","_step","_iterator","_createForOfIteratorHelper","s","n","done","_track$TEXT_TRACK_NAT","err","e","f","VideoPictureInPicture","_media","_this","_defineProperty","active","delegate","U","detail","trigger","listenEvent","Fh","Gh","get","document","pictureInPictureElement","canUsePictureInPicture","_enter","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","prev","next","abrupt","requestPictureInPicture","stop","apply","arguments","exitPictureInPicture","Pc","VideoPresentation","Kh","canUseVideoPresentation","_Ih","Oa","webkitSetPresentationMode","_x","_this$n$player","prevMode","webkitPresentationMode","player","dispatchEvent","DOMEvent","forEach","concat","FullscreenPresentationAdapter","_presentation","Hh","Jh","_callee2","_context2","Ih","_exit","_callee3","_context3","PIPPresentationAdapter","_enter2","_callee4","_context4","_exit2","_callee5","_context5","VideoProvider","_HTMLMediaProvider","_inherits","_super","_createSuper","context","call","_assertThisInitialized","presentation","fullscreen","pictureInPicture","_get","_getPrototypeOf","prototype","canPlayHLSNatively","textRenderers","ATTACH_VIDEO","HTMLMediaProvider"],"sourceRoot":""}